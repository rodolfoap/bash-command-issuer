# Un dêpot GIT est une collection de plusieurs versions de fichiers dans un répertoire.
pwd
mkdir config-netgear-rodolfo
cd config-netgear-rodolfo/
pwd
git init
ls -la
# Dans GIT, une version est simplement un snapshot de l’etat et contenu d’un groupe de fichiers.
touch README
echo "gateway=10.0.0.1" >> router.conf
ls -la
git status
git add README router.conf
git status
# La commande git commit capture un instantané (une snapshot, une version) des fichiers qui sont suivis (tracked) dans le dêpot.
git commit -m "Generic configuration Netgear"
# Une branche n'est qu'une séquence parallèle (ou pas) de commit. La branche par défaut est normalement master
git checkout -b axiodis
ls -la
echo "nameserver=10.0.0.2" >> router.conf
git status
git add router.conf
git status
git commit -m "DNS added for Axiodis"
git whatchanged
# Revenons sur la branche 'master'
git checkout master
git whatchanged
cat router.conf
# Troisieme branche for Keleo, ils ont un deuxieme DNS
git checkout -b keleo
echo "nameserver=10.0.0.44" >> router.conf
cat router.conf
git commit -m "DNS added for Keleo"
# Oops! Quoi? On n'a rien commit!
git add router.conf
git commit -m "DNS added for Keleo"
git status
git whatchanged
# On a quoi sur la branche Axiodis?
git checkout axiodis
cat router.conf
# On a quoi sur la branche master?
git checkout master
cat router.conf
# On a quoi sur la branche Keleo?
git checkout keleo
cat router.conf
# Un remote est un référentiel central sur lequel plusieurs clones peuvent travailler simultanément.
git remote add origin /tmp/config-netgear.git
git status
git push
git push --set-upstream origin keleo
git push --all origin
# Maintenant, un nouveau collaborateur va nous aider a maintenir la conf. D'abord, il "clone" le dêpot.
cd
git clone /tmp/config-netgear.git config-netgear-xavier
cd config-netgear-xavier/
git branch -avv
git checkout keleo
echo "mask=22" >> router.conf
git status
git add .
git commit -m "Added MASK variable"
git push
cd
# Le collaborateur originel, comment il voie ce que le nouveau a fait?
cd config-netgear-rodolfo
git branch -avv
cat router.conf
git pull
cat router.conf
# Attention, y a un erreur! La masque n'est pas la bonne!
sed -i "s/mask=22/mask=19/" router.conf
cat router.conf
git add .
git commit -m "Fixed bad MASK variable"
git push
# Un peu de looks...
git whatchanged
git log --all --decorate --oneline --graph
git-dag --all
